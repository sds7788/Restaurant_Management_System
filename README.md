# æ™ºèƒ½é¤å…ç‚¹é¤ä¸ç®¡ç†ç³»ç»Ÿ (Smart Restaurant Management System)

è¿™æ˜¯ä¸€ä¸ªåŸºäº Web çš„å…¨åŠŸèƒ½é¤é¥®ç®¡ç†ç³»ç»Ÿï¼Œæ—¨åœ¨ä¸ºé¤å…æä¾›ä»é¡¾å®¢ç‚¹é¤åˆ°åå°ç®¡ç†çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œåç«¯ä½¿ç”¨ Python Flaskï¼Œå‰ç«¯ä½¿ç”¨åŸç”Ÿ JavaScript å’Œ Tailwind CSSï¼Œæ•°æ®åº“é‡‡ç”¨ MySQLã€‚

ç³»ç»Ÿé›†æˆäº† **JWT ç”¨æˆ·è®¤è¯**ã€**è§’è‰²æƒé™ç®¡ç†**ï¼ˆé¡¾å®¢/ç®¡ç†å‘˜/å‘˜å·¥ï¼‰ã€**è´­ç‰©è½¦ä¸è®¢å•å¤„ç†**ï¼Œä»¥åŠåŸºäºå¤§æ¨¡å‹ï¼ˆLLMï¼‰çš„**æ™ºèƒ½é¤è°±æ­é…å»ºè®®**åŠŸèƒ½ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ½ï¸ é¡¾å®¢ç«¯ (Frontend)
* **æµè§ˆèœå•**ï¼šæŸ¥çœ‹é¤å…æä¾›çš„æ‰€æœ‰èœå“ï¼Œæ”¯æŒæŒ‰åˆ†ç±»å±•ç¤ºã€‚
* **è´­ç‰©è½¦ç®¡ç†**ï¼šæ·»åŠ èœå“ã€è°ƒæ•´æ•°é‡ã€å¤‡æ³¨ç‰¹æ®Šè¦æ±‚ï¼ˆå¦‚â€œå°‘è¾£â€ï¼‰ã€‚
* **ç”¨æˆ·è®¤è¯**ï¼šæ³¨å†Œæ–°è´¦å·ã€ç™»å½•ã€æŸ¥çœ‹ä¸ªäººä¿¡æ¯ã€‚
* **åœ¨çº¿ä¸‹å•**ï¼šé€‰æ‹©æ”¯ä»˜æ–¹å¼ï¼ˆæ¨¡æ‹Ÿåœ¨çº¿æ”¯ä»˜/é¤åˆ°ä»˜æ¬¾ï¼‰ã€å¡«å†™é…é€åœ°å€å¹¶æäº¤è®¢å•ã€‚
* **å†å²è®¢å•**ï¼šæŸ¥çœ‹è¿‡å¾€è®¢å•çŠ¶æ€åŠè¯¦æƒ…ï¼Œæ”¯æŒå¯¹æœªæ”¯ä»˜è®¢å•è¿›è¡Œæ”¯ä»˜ã€‚
* **æ™ºèƒ½æ¨è**ï¼šåŸºäºå·²é€‰èœå“å’Œå£å‘³åå¥½ï¼Œè°ƒç”¨ AI (DeepSeek/Qwen) è·å–ä¸ªæ€§åŒ–æ­é…å»ºè®®ã€‚

### ğŸ› ï¸ ç®¡ç†åå° (Admin Dashboard)
* **ä»ªè¡¨ç›˜**ï¼šå®æ—¶æŸ¥çœ‹æ€»è®¢å•æ•°ã€åœ¨å”®èœå“æ•°å’Œå¾…å¤„ç†è®¢å•æ¦‚è§ˆã€‚
* **èœå“ç®¡ç†**ï¼šæ·»åŠ æ–°èœå“ã€ç¼–è¾‘ç°æœ‰èœå“ï¼ˆä»·æ ¼ã€æè¿°ã€å›¾ç‰‡ã€ä¸Šä¸‹æ¶çŠ¶æ€ï¼‰ã€è½¯åˆ é™¤èœå“ã€‚
* **åˆ†ç±»ç®¡ç†**ï¼šç®¡ç†èœå“åˆ†ç±»ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ï¼Œè®¾ç½®æ˜¾ç¤ºé¡ºåºã€‚
* **è®¢å•ç®¡ç†**ï¼š
    * æŸ¥çœ‹æ‰€æœ‰è®¢å•åˆ—è¡¨ï¼ˆæ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰ï¼‰ã€‚
    * æŸ¥çœ‹è®¢å•è¯¦æƒ…ï¼ˆåŒ…å«é¡¾å®¢ä¿¡æ¯ã€é…é€ä¿¡æ¯ï¼‰ã€‚
    * æ›´æ–°è®¢å•çŠ¶æ€ï¼ˆå¦‚ï¼šå¾…å¤„ç† -> å¤‡é¤ä¸­ -> å·²å®Œæˆï¼‰ã€‚
* **ç”¨æˆ·ç®¡ç†**ï¼šæŸ¥çœ‹æ³¨å†Œç”¨æˆ·åˆ—è¡¨ï¼Œä¿®æ”¹ç”¨æˆ·è§’è‰²ï¼ˆææƒä¸ºç®¡ç†å‘˜ï¼‰ï¼Œåˆ é™¤ç”¨æˆ·ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯ (Backend)
* **è¯­è¨€**: Python 3.11+
* **æ¡†æ¶**: Flask
* **æ•°æ®åº“**: MySQL (ä½¿ç”¨ `mysql.connector`)
* **è®¤è¯**: PyJWT (JWT Token), bcrypt (å¯†ç åŠ å¯†)
* **AI é›†æˆ**: OpenAI SDK (ç”¨äºè°ƒç”¨ DeepSeek/Qwen ç­‰å…¼å®¹æ¥å£)

### å‰ç«¯ (Frontend)
* **æ ¸å¿ƒ**: HTML5, JavaScript (ES6+), CSS3
* **æ ·å¼åº“**: Tailwind CSS (CDN å¼•å…¥)
* **å›¾æ ‡**: FontAwesome

## ğŸ“‚ ç›®å½•ç»“æ„

```text
restaurant_management_system/
â”œâ”€â”€ backend/                  # åç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ app.py                # Flask åº”ç”¨å…¥å£åŠ API è·¯ç”±
â”‚   â”œâ”€â”€ database.py           # æ•°æ®åº“è¿æ¥ä¸ CRUD æ“ä½œå°è£…
â”‚   â”œâ”€â”€ db_config.py          # æ•°æ®åº“é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ llm_service.py        # å¤§æ¨¡å‹è°ƒç”¨æœåŠ¡ (DeepSeek API)
â”œâ”€â”€ frontend/                 # å‰ç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.html            # é¡¾å®¢ç«¯ä¸»é¡µ
â”‚   â”œâ”€â”€ admin.html            # ç®¡ç†åå°ä¸»é¡µ
â”‚   â”œâ”€â”€ script.js             # é¡¾å®¢ç«¯é€»è¾‘
â”‚   â”œâ”€â”€ admin.js              # ç®¡ç†åå°é€»è¾‘
â”‚   â””â”€â”€ style.css             # è‡ªå®šä¹‰æ ·å¼
â”œâ”€â”€ database_setup.sql        # æ•°æ®åº“åˆå§‹åŒ– SQL è„šæœ¬
â”œâ”€â”€ requirements.txt          # Python ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

- å®‰è£… Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- å®‰è£… MySQL æ•°æ®åº“ (5.7 æˆ– 8.0)ã€‚

### 2. æ•°æ®åº“é…ç½®

1. ç™»å½• MySQL å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼ˆä¾‹å¦‚ `restaurant_db`ï¼‰ã€‚

2. è¿è¡Œ `database_setup.sql` è„šæœ¬ä»¥åˆ›å»ºè¡¨ç»“æ„å’Œåˆå§‹æ•°æ®ã€‚

   ```sql
   source /path/to/database_setup.sql;
   ```

   *(æ³¨æ„ï¼šè„šæœ¬ä¸­åŒ…å«é»˜è®¤çš„ç®¡ç†å‘˜è´¦å· `adminuser` å’Œé¡¾å®¢è´¦å· `customer1`ï¼Œé»˜è®¤å¯†ç å“ˆå¸Œå¯¹åº” `password123` æˆ–æ‚¨éœ€è¦åœ¨ä»£ç ä¸­é‡ç½®)*ã€‚

### 3. åç«¯è®¾ç½®

1. **å®‰è£…ä¾èµ–**ï¼š

   ```bash
   pip install -r requirements.txt
   ```

2. **é…ç½®æ•°æ®åº“è¿æ¥**ï¼š æ‰“å¼€ `backend/db_config.py`ï¼Œä¿®æ”¹ `DB_CONFIG` å­—å…¸ä¸­çš„ `password` å’Œå…¶ä»–å­—æ®µä»¥åŒ¹é…æ‚¨çš„ MySQL è®¾ç½®ã€‚

   ```python
   DB_CONFIG = {
       'host': 'localhost',
       'user': 'root',
       'password': 'YOUR_MYSQL_PASSWORD', # <--- ä¿®æ”¹è¿™é‡Œ
       'database': 'restaurant_db',
       'port': 3306
   }
   ```

3. **é…ç½® AI API (å¯é€‰)**ï¼š å¦‚æœéœ€è¦ä½¿ç”¨æ™ºèƒ½æ¨èåŠŸèƒ½ï¼Œæ‰“å¼€ `backend/llm_service.py`ï¼Œå¡«å…¥æ‚¨çš„ DeepSeek API Keyã€‚

   Python

   ```
   DEEPSEEK_API_KEY = "sk-your-key-here"
   ```

4. **å¯åŠ¨åç«¯æœåŠ¡**ï¼š åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

   ```bash
   python -m backend.app
   ```

   æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:5000`ã€‚

### 4. å‰ç«¯è¿è¡Œ

ç”±äºä½¿ç”¨äº† ES6 æ¨¡å—å’Œ fetch APIï¼Œå»ºè®®é€šè¿‡ç®€å•çš„ HTTP æœåŠ¡å™¨è¿è¡Œå‰ç«¯ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒå‡»æ‰“å¼€ `.html` æ–‡ä»¶ã€‚

- **VS Code Live Server (æ¨è)**: åœ¨ VS Code ä¸­å³é”® `frontend/index.html` é€‰æ‹© "Open with Live Server"ã€‚

- **Python HTTP Server**:

  ```bash
  cd frontend
  python -m http.server 8000
  ```

  ç„¶åè®¿é—® `http://localhost:8000/index.html`ã€‚

## ğŸ”‘ é»˜è®¤è´¦å· (æ•°æ®åº“è„šæœ¬åˆå§‹åŒ–)

å¦‚æœåœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨äº† `database_setup.sql` ä¸­çš„é»˜è®¤æ•°æ®ï¼š

- **ç®¡ç†å‘˜è´¦å·**: `adminuser`
- **é¡¾å®¢è´¦å·**: `customer1`
- **å‘˜å·¥è´¦å·**: `staffuser`

*æ³¨æ„ï¼š`database_setup.sql` ä¸­çš„å¯†ç æ˜¯ç»è¿‡ bcrypt å“ˆå¸Œçš„ã€‚å¦‚æœæ— æ³•ç™»å½•ï¼Œè¯·åœ¨å‰ç«¯ä½¿ç”¨**æ³¨å†Œ**åŠŸèƒ½åˆ›å»ºä¸€ä¸ªæ–°è´¦å·ï¼Œç„¶åé€šè¿‡æ•°æ®åº“ç›´æ¥å°†è¯¥ç”¨æˆ·çš„ `role` å­—æ®µä¿®æ”¹ä¸º `admin` ä»¥è·å¾—ç®¡ç†å‘˜æƒé™ã€‚*

## ğŸ“ API æ–‡æ¡£æ¦‚è§ˆ

åç«¯æä¾›äº†ä¸€ç³»åˆ— RESTful APIï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- **Auth**: `/api/auth/register`, `/api/auth/login`, `/api/auth/me`
- **Menu**: `/api/menu` (GET), `/api/admin/menu` (POST/PUT/DELETE)
- **Orders**: `/api/orders` (POST/GET), `/api/admin/orders` (GET/PUT)
- **Users**: `/api/admin/users` (GET/PUT/DELETE)
- **Categories**: `/api/categories`, `/api/admin/categories`

## âš ï¸ æ³¨æ„äº‹é¡¹

- **å®‰å…¨æ€§**: å½“å‰ `SECRET_KEY` åœ¨ `app.py` ä¸­æ˜¯ç¡¬ç¼–ç çš„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¯·åŠ¡å¿…æ›´æ”¹ä¸ºéšæœºç”Ÿæˆçš„å®‰å…¨å¯†é’¥ã€‚
- **è·¨åŸŸ (CORS)**: åç«¯å·²é…ç½® `flask-cors` å…è®¸è·¨åŸŸè¯·æ±‚ï¼Œæ–¹ä¾¿å‰åç«¯ç‹¬ç«‹å¼€å‘è°ƒè¯•ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue æˆ– Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼
